<UserControl x:Class="SmartKasir.Client.Views.CartView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes">

    <Border Background="{DynamicResource MaterialDesignCardBackground}" Padding="16">
        <StackPanel>
            <TextBlock Text="Keranjang Belanja" FontSize="16" FontWeight="Bold" Margin="0,0,0,16"/>
            
            <!-- Cart Items -->
            <ItemsControl x:Name="CartItemsControl" Height="300" Margin="0,0,0,16">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border BorderBrush="{DynamicResource MaterialDesignDivider}" BorderThickness="0,0,0,1" Padding="0,8">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{Binding ProductName}" FontWeight="Bold"/>
                                    <TextBlock Text="{Binding UnitPrice, StringFormat='Rp {0:N0}'}" FontSize="12" Foreground="{DynamicResource MaterialDesignBodyLight}"/>
                                </StackPanel>
                                
                                <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="16,0,0,0">
                                    <Button Content="-" Width="30" Height="30" Padding="0"/>
                                    <TextBlock Text="{Binding Quantity}" Width="40" TextAlignment="Center" VerticalAlignment="Center"/>
                                    <Button Content="+" Width="30" Height="30" Padding="0"/>
                                </StackPanel>
                                
                                <TextBlock Grid.Column="2" Text="{Binding Subtotal, StringFormat='Rp {0:N0}'}" FontWeight="Bold" Margin="16,0,0,0" VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>

            <Separator Margin="0,16"/>

            <!-- Totals -->
            <Grid Margin="0,8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="Subtotal:" Grid.Column="0"/>
                <TextBlock x:Name="SubtotalText" Grid.Column="1" Text="Rp 0" FontWeight="Bold"/>
            </Grid>

            <Grid Margin="0,8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="Pajak (10%):" Grid.Column="0"/>
                <TextBlock x:Name="TaxText" Grid.Column="1" Text="Rp 0" FontWeight="Bold"/>
            </Grid>

            <Grid Margin="0,8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="Total:" Grid.Column="0" FontSize="14" FontWeight="Bold"/>
                <TextBlock x:Name="TotalText" Grid.Column="1" Text="Rp 0" FontSize="14" FontWeight="Bold" Foreground="{DynamicResource PrimaryHueMidBrush}"/>
            </Grid>

            <!-- Buttons -->
            <Button Content="Checkout" Height="40" Margin="0,16,0,8" Background="{DynamicResource PrimaryHueMidBrush}" Foreground="White"/>
            <Button Content="Bersihkan Keranjang" Height="40"/>
        </StackPanel>
    </Border>
</UserControl>
